{% extends "Employees/Emp_sidebar.html" %}

{% block content %}

<div class="container mt-5">
    <h2 class="mb-4 text-center">My Tasks</h2>

    <!-- Search Bar -->
    <div class="row mb-3">
        <div class="col-2"></div>
        <div class="col-8">
            <form class="d-flex" role="search">
                <input class="form-control me-2" type="search" placeholder="Search for Campaigns..." aria-label="Search">
                <button class="btn btn-outline-success" type="submit">Search</button>
            </form>
        </div>
        <div class="col-2"></div>
    </div>

    <!-- Tasks Table -->
    <table class="table table-bordered table-striped text-center">
        <thead class="table-dark">
            <tr>
                <th scope="col">Task ID</th>
                <th scope="col">Campaign</th>
                <th scope="col">Task Name</th>
                <th scope="col">Deadline</th>
                <th scope="col">Status</th>
                <th scope="col">Upload Creative</th>
            </tr>
        </thead>
        <tbody>
            {% for i in ads %}
            <tr>
                <td>{{ i.id }}</td>
                <td>{{ i.tasks.campaign.campaign_name }}</td>
                <td>{{ i.tasks.title }}</td>
                <td>{{ task.deadline }}</td>
                <td>
                    <span class="badge {% if task.status == 'Completed' %}bg-success{% else %}bg-warning text-dark{% endif %}">
                        {{ task.status }}
                    </span>
                </td>
                <td>
                    <a href="/upload-creative/" class="btn btn-primary btn-sm">
                        <i class="fas fa-upload"></i> Upload
                    </a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6" class="text-center text-muted">No tasks assigned.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
